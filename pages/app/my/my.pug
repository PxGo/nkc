extends ../../bootstrap_base
block title
  +includeCSS("/app/my/my.css")
  +includeCSS("/external_pkgs/swiper/swiper-bundle.min.css")
block content
  .app-my
    .nav-user-content-box
      .nav-user-body
        .nav-user-other
          .nav-banner-mask
          .box-shadow(style=`background-image: url('${tools.getUrl('userBanner', data.user.banner)}')`)
          .nav-user-info
            .nav-user-avatar
              img(src=tools.getUrl('userAvatar', data.user.avatar))
            .nav-user-text
              .nav-user-username= data.user.username
              .nav-user-certs= data.userCertsName
              .nav-user-scores
                -const targetUserScores = data.userScores;
                include ../../publicModules/userScores
    .my-content
      .nav-numbers
        a.nav-number(href=`/u/${data.user.uid}/profile/thread`)
          .name 文章
          .value(id="userThreadCount")=data.user.threadCount - data.user.disabledThreadsCount
        a.nav-number(href=`/u/${data.user.uid}/profile/post`)
          .name 回复
          .value(id="userPostCount")=data.user.postCount - data.user.disabledPostsCount
        a.nav-number
          .name 学术分
          .value(id="userXSF")=data.user.xsf
      .my-nav-swiper
        .swiper-container
          .swiper-wrapper
            .swiper-slide
              .my-links
                .my-class-title 我的作品
                .my-link
                  a.nav-box(onclick='openNativeScreen()')
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'thread.png'))
                    span 创作中心
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/thread`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'thread.png'))
                    span 我的文章
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/post`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'gouton.png'))
                    span 我的回复
                .my-link
                  a.nav-box(href=`/creation/community/draft`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'jishiben.png'))
                    span 社区草稿
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/note`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'biji.png'))
                    span 我的笔记
                .my-class-title 我的关注
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/subscribe/user`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'user.png'))
                    span 关注的用户
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/subscribe/discipline`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'zhuanye.png'))
                    span 关注的专业
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/subscribe/column`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'dinyue.png'))
                    span 关注的专栏
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/subscribe/thread`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'xieyi.png'))
                    span 关注的文章
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/subscribe/collection`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'shoucang.png'))
                    span 收藏的文章
                .my-class-title 其他
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/finance`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'jishiben.png'))
                    span 我的账单
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile/follower`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'like.png'))
                    span 我的粉丝
                .my-link
                  a.nav-box(href=`/u/${data.user.uid}/profile`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'mingpian.png'))
                    span 我的名片
                if data.userColumn
                  .my-link
                    a.nav-box(href=`/m/${data.userColumn._id}`)
                      .icon-left
                        img(src=tools.getUrl('getIcons', 'zhuanlan.png'))
                      span 我的专栏
                .my-link
                  a.nav-box(href=`/sticker`)
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'xiaolian.png'))
                    span 我的表情
                .my-link
                  a.nav-box(onclick='openDownloadList()')
                    .icon-left
                      img(src=tools.getUrl('getIcons', 'download.png'))
                    span 下载管理
          .swiper-pagination

      .my-footer
block scripts
  +includeJS("/app/my/my.js")
  +includeJS("/external_pkgs/swiper/swiper-bundle.min.js")
